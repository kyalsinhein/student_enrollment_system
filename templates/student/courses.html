{% extends "/student/layout.html" %} {% block content %}
<link rel="stylesheet" href="/static/css/student/courses.css" />

<div class="container mt-4">
  <!-- Section for All Courses -->
  <h1 class="coursetitle mb-4">Our Courses</h1>

  <!-- Search Bar -->
  <form
    method="GET"
    action="{{ url_for('view_courses') }}"
    class="search-form mb-4"
  >
    <div class="input-group">
      <input
        type="text"
        name="search"
        class="form-control"
        placeholder="Search for a course..."
        value="{{ request.args.get('search', '') }}"
      />
      <button class="btn btn-primary" type="submit">Search</button>
    </div>
  </form>

  <div class="row">
    {% if courses %} {% if courses|length == 1 %}
    <div class="single-course">
      <div class="card">
        <img
          src="{{ url_for('static', filename='images/courses/' ~ courses[0][2]) }}"
          class="card-img-top course-img"
          alt="Course Image"
        />
        <div class="card-body">
          <h5 class="card-title">{{ courses[0][1] }}</h5>
          <p class="card-text">{{ courses[0][3] }}</p>
          <a
            href="{{ url_for('course_detail', course_id=courses[0][0]) }}"
            class="btn btn-primary"
            >View Detail</a
          >
        </div>
      </div>
    </div>
    {% else %} {% for course in courses %}
    <div class="col-md-4 mb-4">
      <div class="card">
        <img
          src="{{ url_for('static', filename='images/courses/' ~ course[2]) }}"
          class="card-img-top course-img"
          alt="Course Image"
        />
        <div class="card-body">
          <h5 class="card-title">{{ course[1] }}</h5>
          <p class="card-text">{{ course[3] }}</p>
          <a
            href="{{ url_for('course_detail', course_id=course[0]) }}"
            class="btn btn-primary"
            >View Detail</a
          >
        </div>
      </div>
    </div>
    {% endfor %} {% endif %} {% else %}
    <p>No courses available.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
